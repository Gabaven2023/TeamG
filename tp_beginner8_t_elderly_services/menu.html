<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>初心者向けホームページテンプレート tp_beginner8</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="ここにサイト説明を入れます">
  <link rel="stylesheet" href="css/style.css">
  <style>
    ul {
      padding-inline-start: 0px;
    }

    li {
      list-style: none;
    }

    input {
      width: 100%;
      height: 30px;
    }
  </style>
</head>

<body>

  <div id="container">

    <div id="contents">

      <header>
        <h1 id="logo"><a href="about.html"><img src="images/ホーム移行.png" alt="SAMPLE LOGO"></a></h1>
      </header>

      <div id="menubar">
        <nav>
          <ul>
            <li><a href="about.html">URL登録</a></li>
            <li><a href="greeting.html">カレンダー</a></li>
            <li><a href="menu.html">つぶやき</a></li>
            <li><a href="access.html">次なる挑戦</a></li>
          </ul>
        </nav>
      </div>
      <!--/#menubar-->

      <main>

        <section>

          <h2>つぶやく</h2>

          <body>

            <ul id="task-list" style="text-align: center">
              <!-- タスクがここに追加されます -->
              <li>
                よっしゃやるぞ-！って何回目！
              </li>
              <li>
                お正月でさすがに食べ過ぎたから、本気でできた。
              </li>
              <li>
                やっただけえらい。よくやった。
              </li>
              <li>
                昨日しなかったけど今日やった！セーフ。
              </li>
              <li>
                三日連続花丸。友達に話したのがでかい。
              </li>
              <li>
                昨日は旅行だったからしゃーなし。今日グッド！
              </li>
              <li>
                一ヶ月まであとちょっと・・・！！
              </li>
            </ul>

            <br>
            <div style="text-align:right;">
              <input type="text" id="task-text" placeholder="新しいタスクを入力">
              <br><br>
              <button style="display: inline-block;" class="buttonRound" id="add-task">つぶやく</button>
            </div>

            <script>
              document.getElementById('add-task').addEventListener('click', function () {

                // 入力フィールドから新しいタスクのテキストを取得
                const taskText = document.getElementById('task-text').value;
                if (taskText) {

                  // タスクを表示するul要素を取得
                  const taskList = document.getElementById('task-list');

                  // 新しいタスクを表示するli要素を作成
                  const taskItem = document.createElement('li');

                  taskItem.textContent = taskText;
                  taskList.appendChild(taskItem);
                  // 新しいタスクを追加した後、入力フィールドをクリア
                  document.getElementById('task-text').value = '';
                }
              });

              // ページ読み込み時にローカルストレージからタスクを取得
              window.onload = function () {
                // ローカルストレージから保存されたタスクを取得
                const savedTasks = JSON.parse(localStorage.getItem("tasks")) || [];

                // タスクを表示するul要素を取得
                const taskList = document.getElementById("task-list");

                // 保存されたタスクをリストに追加
                savedTasks.forEach(function (taskText) {
                  const taskItem = document.createElement("li");
                  taskItem.textContent = taskText;
                  taskList.appendChild(taskItem);
                });
              };

              // "追加"ボタンがクリックされたときの処理
              document.getElementById("add-task").addEventListener("click", function () {
                // 入力フィールドから新しいタスクのテキストを取得
                const taskText = document.getElementById("task-text").value;
                if (taskText) {
                  // タスクを表示するul要素を取得
                  const taskList = document.getElementById("task-list");

                  // 新しいタスクを表示するli要素を作成
                  const taskItem = document.createElement("li");
                  taskItem.textContent = taskText;

                  // リストに新しいタスクを追加
                  taskList.appendChild(taskItem);

                  // ローカルストレージから保存されたタスクを取得
                  const savedTasks = JSON.parse(localStorage.getItem("tasks")) || [];

                  // 新しいタスクを保存されたタスクの配列に追加
                  savedTasks.push(taskText);

                  // ローカルストレージに保存
                  localStorage.setItem("tasks", JSON.stringify(savedTasks));

                  // 新しいタスクを追加した後、入力フィールドをクリア
                  document.getElementById("task-text").value = "";
                }
              });
            </script>
          </body>


</html>